{% extends "layout.html" %}
{% set sidebars = sidebars + ["demo_sidebar.html"] %}

{% block extrahead %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ pathto("_static/demo.css", 1) }}">
{% endblock %}

{% block htmltitle %}<title>Demo{{ titlesuffix }}</title>{% endblock %}

{% block body %}
{{ body }}

<h1>Demo - Try it out!</h1>
<p>The highlighting here is performed in-browser using
    a WebAssembly translation of the latest Pygments master branch, courtesy of
    <a href="https://github.com/iodide-project/pyodide">Pyodide</a>.</p>
<p>Your content is neither sent over the web nor stored anywhere.</p>

<div id="try">
    <h2>Enter code and select a language</h2>
    <form>
        <p>
            <label for="lang">Language:</label> &nbsp;<select id="lang">
                <option value="">Guess the lexer</option>
                {% for name, info, _, _ in lexers %}
                    <option value="{{info.0}}">{{name}}</option>
                {% endfor %}
            </select>
            &nbsp;&nbsp;&middot;&nbsp;&nbsp;
            <label for="style">Style:</label> &nbsp;<select id="style">
                {% for style in styles %}
                    <option>{{style}}</option>
                {% endfor %}
            </select></p>
        <p><label for="file">Upload a file here:</label> &nbsp;
	    <input type="file" id="file" onchange="new_file()"> &nbsp; or enter code below:</p>
	<p><textarea id="code" rows="1" cols="60"></textarea></p>
	<p style="text-align: right">
            <button type="button" onclick="highlight()" id="hlbtn" disabled>Loading Python...</button>
	    &nbsp;&nbsp;&nbsp; <input type="reset" value="Reset"></p>
    </form>
</div>

<div id="loading" hidden>
    <img src="{{ pathto("_static/spinner.gif", 1) }}" style="vertical-align: middle">
    <span id="loading-text">loading Python...</span>
</div>

<div id="hlcode"></div>

<div id="code-header" hidden>
    <span id=guessed-lexer></span>
    <input type="button" value="Download" onclick="download_code()">
    &nbsp;&nbsp;&nbsp;
    <a id="copylink" role="button">Copy link</a>
    <span hidden id="uri-too-long">(Copy link unavailable because code too long)</span>
</div>
<script type="text/javascript" src="{{ pathto("_static/demo.js", 1) }}"></script>
{% endblock %}
